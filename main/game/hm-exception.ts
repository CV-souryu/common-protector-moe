export class HmException extends Error{
    code: string;
    message: string;
    name: string;
    static codeMessage: Map<string, string>;

    constructor(name: string, code: string, message?: string) {
        super(code + (message || ""));
        if (!HmException.codeMessage) {
            HmException.setErrorCode()
        }
        this.code = code;
        this.message = message || HmException.codeMessage[code] || "未知";
    }

    static parse(name: string, data) {
        const json = JSON.parse(data);
        if (json.eid) {
            throw new HmException(name, json.eid);
        }
        return json
    }


    toString(): string {
        return this.name + this.code + this.message;
    }

    static setErrorCode() {
        HmException.codeMessage = new Map<string, string>();
        HmException.codeMessage["-1"] = "操作速度太快，请慢点操作";
        HmException.codeMessage["-2"] = "数据库错误";
        HmException.codeMessage["-3"] = "您的账号被封锁，请联系游戏管理员！";
        HmException.codeMessage["-4"] = "非法访问！";
        HmException.codeMessage["-5"] = "超时！";
        HmException.codeMessage["-6"] = "网络异常";
        HmException.codeMessage["-101"] = "参数错误";
        HmException.codeMessage["-102"] = "资源不足";
        HmException.codeMessage["-103"] = "数据不存在";
        HmException.codeMessage["-104"] = "钻石数量不够";
        HmException.codeMessage["-105"] = "燃料不够";
        HmException.codeMessage["-106"] = "弹药不够";
        HmException.codeMessage["-107"] = "铝材不够";
        HmException.codeMessage["-108"] = "钢材不够";
        HmException.codeMessage["-109"] = "等级不够";
        HmException.codeMessage["-110"] = "用户名已被注册";
        HmException.codeMessage["-111"] = "密码不一致";
        HmException.codeMessage["-112"] = "没有注册";
        HmException.codeMessage["-113"] = "用户名密码不正确";
        HmException.codeMessage["-114"] = "没有登录";
        HmException.codeMessage["-115"] = "不是游客";
        HmException.codeMessage["-116"] = "游客未登记";
        HmException.codeMessage["-117"] = "游客已绑定";
        HmException.codeMessage["-118"] = "邮箱不对";
        HmException.codeMessage["-119"] = "角色名已存在";
        HmException.codeMessage["-120"] = "角色名不合法";
        HmException.codeMessage["-121"] = "注册码不存在";
        HmException.codeMessage["-122"] = "注册码已用";
        HmException.codeMessage["-123"] = "用户名请用字母数字";
        HmException.codeMessage["-124"] = "cookie出错1";
        HmException.codeMessage["-125"] = "cookie出错2";
        HmException.codeMessage["-126"] = "手机号码不正确";
        HmException.codeMessage["-127"] = "验证出错";
        HmException.codeMessage["-128"] = "登录错误次数超过限制";
        HmException.codeMessage["-129"] = "您取名包含非法字符，请重新取名";
        HmException.codeMessage["-130"] = "登录失效，不能绑定";
        HmException.codeMessage["-131"] = "不能绑定";
        HmException.codeMessage["-132"] = "未审核通过，请联系客服";
        HmException.codeMessage["-133"] = "该账号已绑定，请勿重复";
        HmException.codeMessage["-134"] = "验证码已发送";
        HmException.codeMessage["-135"] = "验证码出错";
        HmException.codeMessage["-136"] = "请输入用户名";
        HmException.codeMessage["-137"] = "请输入密码";
        HmException.codeMessage["-138"] = "用户名长度6-24位";
        HmException.codeMessage["-139"] = "密码长度6-24位";
        HmException.codeMessage["-140"] = "与旧密码相同";
        HmException.codeMessage["-141"] = "原始密码不正确";
        HmException.codeMessage["-142"] = "密码修改成功";
        HmException.codeMessage["-143"] = "需要修改密码";
        HmException.codeMessage["-144"] = "找回密码的邮件已发送，请通过邮件找回密码";
        HmException.codeMessage["-145"] = "已绑定邮箱";
        HmException.codeMessage["-146"] = "暂未开放";
        HmException.codeMessage["-147"] = "邮箱未验证";
        HmException.codeMessage["-148"] = "邮箱需要验证，请去邮箱根据邮件进行后续操作";
        HmException.codeMessage["-149"] = "角色名已经存在";
        HmException.codeMessage["-150"] = "一周只能改一次名";
        HmException.codeMessage["-151"] = "您输入的用户名太长";
        HmException.codeMessage["-152"] = "密码只能使用数字字母和下划线";
        HmException.codeMessage["-153"] = "真实姓名不正确";
        HmException.codeMessage["-154"] = "身份证号不正确";
        HmException.codeMessage["-155"] = "继承码不存在";
        HmException.codeMessage["-156"] = "绑定邮箱不一致";
        HmException.codeMessage["-157"] = "角色已存在，不能继承";
        HmException.codeMessage["-158"] = "继承码已经使用";
        HmException.codeMessage["-159"] = "继承码不能使用在该分区";
        HmException.codeMessage["-201"] = "修理船坞正在工作";
        HmException.codeMessage["-202"] = "船坞数量不足";
        HmException.codeMessage["-203"] = "目前不需要加速";
        HmException.codeMessage["-204"] = "加速道具不足";
        HmException.codeMessage["-205"] = "时间没到";
        HmException.codeMessage["-206"] = "舰船被锁定，不能拆除";
        HmException.codeMessage["-207"] = "船坞数量已满";
        HmException.codeMessage["-208"] = "舰船不需要维修";
        HmException.codeMessage["-209"] = "舰船正在维修";
        HmException.codeMessage["-210"] = "建造蓝图不足";
        HmException.codeMessage["-211"] = "舰船在舰队中不能拆除";
        HmException.codeMessage["-212"] = "舰船目前不能改造";
        HmException.codeMessage["-213"] = "道具不足";
        HmException.codeMessage["-214"] = "舰船等级不足";
        HmException.codeMessage["-215"] = "船坞已满";
        HmException.codeMessage["-216"] = "好感度不足";
        HmException.codeMessage["-217"] = "已签订誓约";
        HmException.codeMessage["-218"] = "装备蓝图不足";
        HmException.codeMessage["-219"] = "装备数量已满";
        HmException.codeMessage["-220"] = "未签订誓约,不能使用";
        HmException.codeMessage["-221"] = "未拥有,不能使用";
        HmException.codeMessage["-222"] = "不能使用该皮肤";
        HmException.codeMessage["-223"] = "";
        HmException.codeMessage["-224"] = "船只修理中";
        HmException.codeMessage["-225"] = "船只学习中";
        HmException.codeMessage["-226"] = "已经搓过一次澡";
        HmException.codeMessage["-227"] = "请先出浴";
        HmException.codeMessage["-228"] = "无法更换";
        HmException.codeMessage["-229"] = "补给已满，无需进行补给";
        HmException.codeMessage["-301"] = "舰船等级不足";
        HmException.codeMessage["-302"] = "舰船不能升阶";
        HmException.codeMessage["-303"] = "装备不存在";
        HmException.codeMessage["-304"] = "装备已被移除";
        HmException.codeMessage["-305"] = "不是空闲状态，不能被吞噬";
        HmException.codeMessage["-306"] = "装备已使用";
        HmException.codeMessage["-307"] = "装备正在使用,不能拆除";
        HmException.codeMessage["-308"] = "舰船在其他舰队中";
        HmException.codeMessage["-309"] = "舰队中不能有相同的舰船";
        HmException.codeMessage["-310"] = "舰船和装备不匹配";
        HmException.codeMessage["-311"] = "舰船和装备不匹配";
        HmException.codeMessage["-312"] = "装备栏位已满";
        HmException.codeMessage["-313"] = "相同位置不需要更换";
        HmException.codeMessage["-314"] = "第一舰队不能为空";
        HmException.codeMessage["-315"] = "该舰船没有技能";
        HmException.codeMessage["-316"] = "属性没有强化到达满值";
        HmException.codeMessage["-317"] = "技能等级已满";
        HmException.codeMessage["-318"] = "已经有编队,不能再次编队";
        HmException.codeMessage["-319"] = "舰队不存在";
        HmException.codeMessage["-320"] = "舰船已锁定";
        HmException.codeMessage["-321"] = "舰船已解锁";
        HmException.codeMessage["-322"] = "不适用的技能";
        HmException.codeMessage["-323"] = "不能转换相同的技能";
        HmException.codeMessage["-324"] = "原技能等级为0，不能转换";
        HmException.codeMessage["-325"] = "技能无法觉醒";
        HmException.codeMessage["-326"] = "技能无法升级";
        HmException.codeMessage["-327"] = "舰队中包含撤退状态的舰船，无法出征";
        HmException.codeMessage["-328"] = "今日支援已满";
        HmException.codeMessage["-401"] = "前置章节未通关";
        HmException.codeMessage["-402"] = "节点不存在";
        HmException.codeMessage["-403"] = "没有下一节点";
        HmException.codeMessage["-404"] = "舰队正在远征";
        HmException.codeMessage["-405"] = "舰队不存在";
        HmException.codeMessage["-406"] = "舰队中没有舰船";
        HmException.codeMessage["-407"] = "旗舰大破，不能出征";
        HmException.codeMessage["-408"] = "补给为空，不能出征";
        HmException.codeMessage["-409"] = "节点已结束";
        HmException.codeMessage["-410"] = "舰队中必须有一艘旗舰";
        HmException.codeMessage["-411"] = "正在出征中";
        HmException.codeMessage["-412"] = "远征中";
        HmException.codeMessage["-413"] = "正在修理，不能出征";
        HmException.codeMessage["-414"] = "主力舰队作战，潜艇无法参加";
        HmException.codeMessage["-415"] = "支援补给未满无法出征";
        HmException.codeMessage["-416"] = "此关卡必须满血出征";
        HmException.codeMessage["-417"] = "请先为此关卡编队";
        HmException.codeMessage["-418"] = "胜利才能驻守";
        HmException.codeMessage["-419"] = "不需要驻守";
        HmException.codeMessage["-420"] = "驻守中";
        HmException.codeMessage["-421"] = "船型不符合要求，不能出征";
        HmException.codeMessage["-422"] = "每日只能重置一次";
        HmException.codeMessage["-423"] = "不是奇袭点";
        HmException.codeMessage["-424"] = "奇袭编队与主舰队船只冲突";
        HmException.codeMessage["-425"] = "奇袭编队有正在远征的船只";
        HmException.codeMessage["-426"] = "奇袭编队有驻守中的船只";
        HmException.codeMessage["-427"] = "有舰船正在修理中";
        HmException.codeMessage["-428"] = "奇袭编队有大破的船只，不能出征";
        HmException.codeMessage["-429"] = "炮潜&潜艇无法参与本地图";
        HmException.codeMessage["-430"] = "成就点不足";
        HmException.codeMessage["-501"] = "邮件不存在";
        HmException.codeMessage["-502"] = "邮件附件已领取";
        HmException.codeMessage["-601"] = "舰队不在远征";
        HmException.codeMessage["-602"] = "远征时间未到";
        HmException.codeMessage["-603"] = "舰队不存在";
        HmException.codeMessage["-604"] = "舰队正在远征";
        HmException.codeMessage["-605"] = "有舰队正在远征此关卡";
        HmException.codeMessage["-606"] = "旗舰等级不够";
        HmException.codeMessage["-607"] = "舰队船只数量不足";
        HmException.codeMessage["-608"] = "船只类型不符合条件";
        HmException.codeMessage["-609"] = "章节未开启,当前关卡不能远征";
        HmException.codeMessage["-610"] = "补给不足，不能远征";
        HmException.codeMessage["-701"] = "任务未完成";
        HmException.codeMessage["-702"] = "奖励已领取";
        HmException.codeMessage["-703"] = "本次任务只能完成一个，谢谢参与！";
        HmException.codeMessage["-801"] = "商城购买";
        HmException.codeMessage["-802"] = "不能购买";
        HmException.codeMessage["-803"] = "已经拥有,不能购买";
        HmException.codeMessage["-901"] = "舰队不存在";
        HmException.codeMessage["-902"] = "舰队没有舰船";
        HmException.codeMessage["-903"] = "舰队正在远征";
        HmException.codeMessage["-904"] = "请重新挑战";
        HmException.codeMessage["-905"] = "不在挑战列表中";
        HmException.codeMessage["-906"] = "已挑战";
        HmException.codeMessage["-1001"] = "建造船坞已满";
        HmException.codeMessage["-1002"] = "装备开发船坞已满";
        HmException.codeMessage["-1003"] = "维修船坞已满";
        HmException.codeMessage["-1004"] = "舰船船坞已满";
        HmException.codeMessage["-1005"] = "装备仓库已满";
        HmException.codeMessage["-1006"] = "不是钻石购买的类型";
        HmException.codeMessage["-1007"] = "该商品限购";
        HmException.codeMessage["-1008"] = "不是人民币购买的类型";
        HmException.codeMessage["-1009"] = "支付未成功";
        HmException.codeMessage["-1010"] = "不在购买时间内";
        HmException.codeMessage["-1011"] = "战利品不足";
        HmException.codeMessage["-1012"] = "不能重复购买";
        HmException.codeMessage["-1013"] = "功勋不足";
        HmException.codeMessage["-1101"] = "此位置不允许放船";
        HmException.codeMessage["-1102"] = "船的类型不匹配";
        HmException.codeMessage["-1103"] = "船的cid不匹配";
        HmException.codeMessage["-1104"] = "不能用同一种战舰";
        HmException.codeMessage["-1105"] = "不符合规则，不能出击";
        HmException.codeMessage["-1106"] = "前置pve没过";
        HmException.codeMessage["-1107"] = "前置战役没过";
        HmException.codeMessage["-1108"] = "今日挑战次数已满";
        HmException.codeMessage["-1109"] = "舰队含远征中船只，无法出征";
        HmException.codeMessage["-1110"] = "舰队含修理中船只，无法出征";
        HmException.codeMessage["-1111"] = "舰队含已撤退船只，无法出征";
        HmException.codeMessage["-1112"] = "支援系统未解锁";
        HmException.codeMessage["-1113"] = "不能升级";
        HmException.codeMessage["-1201"] = "无此兑换码";
        HmException.codeMessage["-1202"] = "尚未开启兑换";
        HmException.codeMessage["-1203"] = "该兑换码已过期";
        HmException.codeMessage["-1204"] = "已用完";
        HmException.codeMessage["-1205"] = "您已兑换过该类礼包";
        HmException.codeMessage["-1206"] = "奖励已经领取";
        HmException.codeMessage["-1207"] = "没有领取资格";
        HmException.codeMessage["-1208"] = "等级不够,无法领取";
        HmException.codeMessage["-1209"] = "等级太高,无法领取";
        HmException.codeMessage["-1301"] = "您的好友已满,不能再添加";
        HmException.codeMessage["-1302"] = "好友申请已满,不能再申请";
        HmException.codeMessage["-1303"] = "申请已过期";
        HmException.codeMessage["-1304"] = "对方的好友已满,不能再添";
        HmException.codeMessage["-1305"] = "挑战次数已满，请休息一会";
        HmException.codeMessage["-1306"] = "调整队伍次数已满";
        HmException.codeMessage["-1307"] = "已经是好友";
        HmException.codeMessage["-1308"] = "您输入的玩家并不存在";
        HmException.codeMessage["-1309"] = "签名不得超过30个字节";
        HmException.codeMessage["-1310"] = "没有此勋章";
        HmException.codeMessage["-1311"] = "勋章没有完成";
        HmException.codeMessage["-1312"] = "勋章已经完成";
        HmException.codeMessage["-1313"] = "请不要向自己发送好友申请";
        HmException.codeMessage["-1314"] = "该玩家只允许通过UID添加好友";
        HmException.codeMessage["-1401"] = "一波战役不能选择其他好友";
        HmException.codeMessage["-1402"] = "不是好友";
        HmException.codeMessage["-1403"] = "好友已协助战斗，次日才可邀请";
        HmException.codeMessage["-1404"] = "不能使用好友舰队";
        HmException.codeMessage["-1405"] = "不能重复使用船只";
        HmException.codeMessage["-1406"] = "同舰船类型已达到出战数量上限";
        HmException.codeMessage["-1407"] = "补给次数不足";
        HmException.codeMessage["-1408"] = "驻守中的舰船不能补给及修理";
        HmException.codeMessage["-1409"] = "舰队中有一耐久度为0的船，不能出战";
        HmException.codeMessage["-1410"] = "敌人已经被消灭";
        HmException.codeMessage["-1411"] = "副本时间未开启";
        HmException.codeMessage["-1412"] = "战斗中不能编队";
        HmException.codeMessage["-1413"] = "战斗中不能补给";
        HmException.codeMessage["-1414"] = "有舰船正在驻守中，无法出征";
        HmException.codeMessage["-1415"] = "有舰船正在驻守中，无法出征";
        HmException.codeMessage["-1416"] = "有舰船正驻守中，无法远征";
        HmException.codeMessage["-1417"] = "有舰船驻守中，不能进行战役";
        HmException.codeMessage["-1418"] = "有舰船驻守中";
        HmException.codeMessage["-1419"] = "旗舰大破不能出击";
        HmException.codeMessage["-1420"] = "在其他舰队中";
        HmException.codeMessage["-1501"] = "已编队";
        HmException.codeMessage["-1502"] = "已侦察";
        HmException.codeMessage["-1503"] = "下次侦察时间未到";
        HmException.codeMessage["-1504"] = "已经在待命中";
        HmException.codeMessage["-1505"] = "请先侦察";
        HmException.codeMessage["-1506"] = "事件已经结束";
        HmException.codeMessage["-1507"] = "非战斗点";
        HmException.codeMessage["-1508"] = "不是宝箱";
        HmException.codeMessage["-1509"] = "夜幕降临，侦察机无法在0点至8点出击侦察";
        HmException.codeMessage["-1601"] = "房间不存在";
        HmException.codeMessage["-1602"] = "家具在房间中，不能回收";
        HmException.codeMessage["-1603"] = "家具已锁定，不能回收";
        HmException.codeMessage["-1604"] = "家具没有收集完成";
        HmException.codeMessage["-1605"] = "已领取";
        HmException.codeMessage["-1606"] = "家具数量不足";
        HmException.codeMessage["-1607"] = "家具仓库已满";
        HmException.codeMessage["-1608"] = "今日好感度收取已达上限（5次）";
        HmException.codeMessage["-1609"] = "方案名10个字";
        HmException.codeMessage["-1610"] = "家具方案不存在";
        HmException.codeMessage["-1611"] = "自己上传的方案不能取消";
        HmException.codeMessage["-1612"] = "已经收藏过了";
        HmException.codeMessage["-1613"] = "每周上传3次";
        HmException.codeMessage["-1614"] = "只能收藏 100个";
        HmException.codeMessage["-1615"] = "宿舍已达上限";
        HmException.codeMessage["-1616"] = "家具点不足";
        HmException.codeMessage["-1701"] = "请先设置一个厨师";
        HmException.codeMessage["-1702"] = "还未学会这道菜谱";
        HmException.codeMessage["-1703"] = "厨师与菜谱国籍不相同";
        HmException.codeMessage["-1704"] = "好友没有设置厨师";
        HmException.codeMessage["-1705"] = "厨师没有学会这道菜";
        HmException.codeMessage["-1706"] = "每日只能吃三次食物";
        HmException.codeMessage["-1801"] = "教官没有拥有";
        HmException.codeMessage["-1802"] = "训练栏已达上限";
        HmException.codeMessage["-1803"] = "训练栏已满";
        HmException.codeMessage["-1804"] = "没有设置教官";
        HmException.codeMessage["-1805"] = "不是当前教官的战术";
        HmException.codeMessage["-1806"] = "船型限制,不能学习该战术";
        HmException.codeMessage["-1807"] = "舰船等级不足";
        HmException.codeMessage["-1808"] = "未完成学习的战术，不能使用";
        HmException.codeMessage["-1809"] = "有战术在学习中，不能替换";
        HmException.codeMessage["-1810"] = "教室未开放";
        HmException.codeMessage["-1811"] = "教官数量不足2个,无法扩充";
        HmException.codeMessage["-1812"] = "教官数量不足3个,无法扩充";
        HmException.codeMessage["-1901"] = "赠予时间已经结束";
        HmException.codeMessage["-1902"] = "蓝飘带数量不足";
        HmException.codeMessage["-2001"] = "不需要选择战况";
        HmException.codeMessage["-2002"] = "前置关卡未过";
        HmException.codeMessage["-2003"] = "奖励已经领取";
        HmException.codeMessage["-2004"] = "分数不够";
        HmException.codeMessage["-2005"] = "奖励不存在";
        HmException.codeMessage["-2006"] = "当前战况限制，不可用当前舰队，请重新编队";
        HmException.codeMessage["-2007"] = "旗舰大破不能出击";
        HmException.codeMessage["-2008"] = "出征过的船只不能再被使用";
        HmException.codeMessage["-2101"] = "情报点数不足";
        HmException.codeMessage["-2102"] = "情报重置时间未到";
        HmException.codeMessage["-2103"] = "当前情报限制，不可用当前舰队，请重新编队";
        HmException.codeMessage["-2104"] = "情报还未解锁";
        HmException.codeMessage["-2201"] = "积分不够";
        HmException.codeMessage["-2202"] = "点数不足";
        HmException.codeMessage["-2203"] = "不能重复购买";
        HmException.codeMessage["-2204"] = "已压制关卡，不能出征";
        HmException.codeMessage["-2205"] = "未解锁,不能购买";
        HmException.codeMessage["-9993"] = "活动已经结束，请点击[确认]后回到港口界面";
        HmException.codeMessage["-9994"] = "您已经登出";
        HmException.codeMessage["-9995"] = "登陆失效";
        HmException.codeMessage["-9996"] = "非法请求";
        HmException.codeMessage["-9997"] = "您的账号已经在别的设备上登录";
        HmException.codeMessage["-9998"] = "账号被冻结，请联系客服";
        HmException.codeMessage["-9999"] = "服务器正在维护";
    }

}
